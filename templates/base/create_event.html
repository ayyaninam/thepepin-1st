{% extends "base/base.html" %}
{% load static %}
{% block content %}

<div class="container my-5">
<h1 class="fw-bold my-5">Create Event</h1>

{% if messages %}
<ul class="errorlist">
    {% for message in messages %}
    <button class="rounded btn btn-danger mx-auto d-flex">{{ message }}</button>
    {% endfor %}
</ul>
{% endif %}

<img src="" alt="" id="img__preview__cover" class="img-fluid img__preview__cover">



<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    {% for field in form %}
    <div class="form-floating mb-3">
        {{ field }}
        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    </div>
    {% for error in field.errors %}
    <div class="text-danger my-2">{{ error }}</div>
    {% endfor %}
    {% endfor %}

    <button class="bttn" type="submit">Submit</button>
</form>

</div>

<script>
    document.getElementById('id_cover_image').addEventListener('change', function(event) {
      var input = event.target;
      var reader = new FileReader();
      reader.onload = function() {
        var dataURL = reader.result;
        var previewImage = document.getElementById('img__preview__cover');
        previewImage.src = dataURL;
      };
      reader.readAsDataURL(input.files[0]);
    });
  </script>

{% endblock content %}