{% extends "base/base.html" %}
{% block content %}
  <div class="profile_view w-75 mx-auto">
    {% csrf_token %}
    {% if messages %}
    <ul class="errorlist">
        {% for message in messages %}
        <button class="rounded btn btn-danger mx-auto d-flex">{{ message }}</button>
        {% endfor %}
    </ul>
{% endif %}

<div class="first_profile_encloser">
    <div class="profile__details d-flex">
    <img class="pp" src="{{user.profile_picture.url}}" alt="">
    <div class="name_det mx-5">
        {% if user.first_name or user.last_name %}
        <h1 class="fw-bold my-0">{{user.first_name}} {{user.last_name}}</h1>
        {% else %}
        <h1 class="fw-bold my-0">{{user.email}}</h1>
        {% endif%}

        <small class="my-0">{{user.user_title}}</small>
        <div class="icon_pack_social d-flex">
          <a target="_blank" href="{{user.facebook_link}}"><i class="mx-2 text-secondary fa fa-facebook"></i></a>
          <a target="_blank" href="{{user.linkedin_link}}"><i class="mx-2 text-secondary fa fa-linkedin"></i></a>
          <a target="_blank" href="{{user.twitter_link}}"><i class="mx-2 text-secondary fa fa-twitter"></i></a>
          <a target="_blank" href="{{user.instagram_link}}"><i class="mx-2 text-secondary fa fa-instagram"></i></a>
        </div>
    </div>
</div>
<div class="profile__stats my-5 d-flex flex-row justify-content-around">


  <div class="card text-bg-primary mb-3" style="min-width: 10rem;">
    <div class="card-header">Total Articles</div>
    <div class="card-body">
      <h5 class="card-title">{{user.total_publications}}</h5>
    </div>
  </div>


  <div class="card text-bg-dark mb-3" style="min-width: 10rem;">
    <div class="card-header">Total Articles Views</div>
    <div class="card-body">
      <h5 class="card-title">{{user.publication_views}}</h5>
    </div>
  </div>


  <div class="card text-bg-dark mb-3" style="min-width: 10rem;">
    <div class="card-header">Profile Views</div>
    <div class="card-body">
      <h5 class="card-title">{{user.profile_views}}</h5>
    </div>
  </div>


  <div class="card text-bg-primary mb-3" style="min-width: 10rem;">
    <div class="card-header">Followers</div>
    <div class="card-body">
      <h5 class="card-title">{{user.followers.all | length}}</h5>
    </div>
  </div>

</div>

</div>

<div class="other__details my-5">
<div class="user__bio">
    <h1 class="fw-bold text-secondary my-0">User Bio</h1>
    <hr class="w-75 mt-0 mb-4">
    <p >{{user.user_bio}}</p>
</div>
<div class="user__spec my-5">
    <h1 class="fw-bold text-secondary my-0">Specialties</h1>
    <hr class="w-75 mt-0 mb-4">
    {% if user.specialty.all %}
    {% for specialty in user.specialty.all %}
      <h4 class="text-secondary fw-bold">{{specialty.title}}</h4>
      <p>{{specialty.description}}</p>
      <hr class="w-25">
    {% endfor %}
    {% else %}
    <p class="text-danger">No record Found!</p>
    {% endif %}
</div>


<div class="user__exp my-5">
    <h1 class="fw-bold text-secondary my-0">Expertise</h1>
    <hr class="w-75 mt-0 mb-4">
    {% if user.expertise.all %}
    {% for specialty in user.expertise.all %}
      <h4 class="text-secondary fw-bold">{{specialty.title}}</h4>
      <p>{{specialty.description}}</p>
      <hr class="w-25">
    {% endfor %}
    {% else %}
    <p class="text-danger">No record Found!</p>
    {% endif %}
</div>

<div class="user__edu my-5">
    <h1 class="fw-bold text-secondary my-0">Education</h1>
    <hr class="w-75 mt-0 mb-4">
    {% if user.education.all %}
    {% for specialty in user.education.all %}
      <h4 class="text-secondary fw-bold">{{specialty.title}}</h4>
      <p>{{specialty.description}}</p>
      <hr class="w-25">
    {% endfor %}
    {% else %}
    <p class="text-danger">No record Found!</p>
    {% endif %}
</div>

<div class="user__aff my-5">
    <h1 class="fw-bold text-secondary my-0">Affiliations</h1>
    <hr class="w-75 mt-0 mb-4">
    {% if user.affiliations.all %}
    {% for specialty in user.affiliations.all %}
      <h4 class="text-secondary fw-bold">{{specialty.title}}</h4>
      <p>{{specialty.description}}</p>
      <hr class="w-25">
    {% endfor %}
    {% else %}
    <p class="text-danger">No record Found!</p>
    {% endif %}
</div>


<div class="user__haa my-5">
    <h1 class="fw-bold text-secondary my-0">Honors and Awards</h1>
    <hr class="w-75 mt-0 mb-4">
    {% if user.honors_and_awards.all %}
    {% for specialty in user.honors_and_awards.all %}
      <h4 class="text-secondary fw-bold">{{specialty.title}}</h4>
      <p>{{specialty.description}}</p>
      <hr class="w-25">
    {% endfor %}
    {% else %}
    <p class="text-danger">No record Found!</p>
    {% endif %}
</div>


</div>

  </div>
{% endblock content %}